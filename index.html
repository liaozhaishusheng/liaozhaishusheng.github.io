<!DOCTYPE html>
<html>

<head>
	<title>Annual Party Invitation</title>
	<style>
		@font-face {
			font-family: 'Kaliurang Signature';
			src: url('KaliurangSignatureDEMO.ttf') format('truetype');
			font-weight: bold;
		  }
		body {
			background-color: #e7089546;
			color: #ffffff;
			font-family: 'Kaliurang Signature', sans-serif;
			font-size: 50px;
			line-height: 1.5;
			padding: 0px;
		}

		.container {
			display: flex;
			justify-content: center;
			align-items: center;
			height: 100vh;
		}

		.terminal {
			border: 1px solid rgb(0, 0, 0);
			padding: 20px;
			width: 90%;
			max-width: 600px;
			height: 90%;
			max-height: 960px;
			overflow-x: scroll;
			background-image: url("bg.jpg");
			background-size: cover;
			background-color: transparent;
			color: rgb(255, 255, 0);
			font-family: 'Kaliurang Signature', sans-serif;
			font-size: 36px;
			white-space: normal;
		}

		.terminal::before {
			<!-- content: "love@localhost:~$ "; -->
			display: inline-block;
			margin-right: 5px;
		}

		.terminal::after {
			content: "";
			display: inline-block;
			animation: blink-caret 0.75s step-end infinite;
		}
	</style>
</head>

<body>
	<div class="container">
		<div class="terminal" id="terminal">
		</div>
	</div>
	<script>
		var invitationText = "Dear Jingjing Wan,\nI would like to invite you to Annual Party next Saturday. \nWould you like to attend? (yes/no)";
		var input;
		var terminal = document.getElementById("terminal");
		var index = 0;
		var regretsCount = 0;

		function typeInvitation() {
			if (index < invitationText.length) {
				if (invitationText[index] == "\n") {
					terminal.innerHTML += "<br/>"
					index += 1;
				}
				else {
					terminal.innerHTML += invitationText.charAt(index);
					index++;
				}
				setTimeout(typeInvitation, 10);
			}
			else {
				input = document.createElement("input");
				input.type = "text";
				input.style.backgroundColor = "#e7089546";
				input.style.color = "white";
				input.style.border = "none";
				input.style.outline = "none";
				input.style.fontFamily = "Kaliurang Signature";
				input.style.fontSize = "50px";
				input.style.textAlign = "center";
				input.style.width = "50%";
				input.style.display = "block";
				input.style.margin = "0 auto";
				input.onkeydown = function (event) {
					if (event.keyCode === 13) {
						event.preventDefault();
						handleInput();
					}
				};
				terminal.appendChild(input);
				input.focus();
			}
		}

		typeInvitation();


		function handleInput() {
			var response = input.value.toLowerCase().trim();
			if (response === "yes") {
				var detailsText = "Great, here are the details:\n\n The First Annual Party of WAN&TANG Co.,Ltd. \n\n Date: Saturday, May 20th\nTime: 1:00pm-11:00pm\nLocation: L2201, Lingxiu Garden, Shenzhen CN\n\nPlease let me know if you have any questions, and I hope to see you there!\n\n";
				terminal.innerHTML = "";
				index = 0;
				typeDetails(detailsText);
			}
			else if (response === "no") {
				regretsCount++;
				var regretsText = "I am soooooo sorry to hear that, and I hope you could consider this invitation again, cause Mr. Tang want you be there soooooo much! would you?";
				regretsText = regretsText.replace(/oooooo/g, 'oooo'.repeat(regretsCount));
				terminal.innerHTML = "";
				index = 0;
				typeRegrets(regretsText);
			}
			else {
				terminal.innerHTML += "<br/>Invalid response. Please type 'yes' or 'no'!";
				typeInvitation();
				return;
			}
		}

		function typeDetails(text) {
			if (index < text.length) {
				if (text[index] == "\n") {
					terminal.innerHTML += "<br/>"
				}
				else {
					terminal.innerHTML += text.charAt(index);
				}
				index++;
				setTimeout(function () {
					typeDetails(text);
				}, 50);
			}
		}

		function typeRegrets(text) {
			if (index < text.length) {
				if (text[index] == "\n") {
					terminal.innerHTML += "<br/>"
				}
				else {
					terminal.innerHTML += text.charAt(index);
				}
				index++;
				setTimeout(function () { typeRegrets(text); }, 50);
			}
			else {
				input = document.createElement("input");
				input.type = "text";
				input.style.backgroundColor = "#e7089546";
				input.style.color = "white";
				input.style.border = "none";
				input.style.outline = "none";
				input.style.fontFamily = "Kaliurang Signature";
				input.style.fontSize = "50px";
				input.style.textAlign = "center";
				input.style.width = "50%";
				input.style.display = "block";
				input.style.margin = "0 auto";
				input.onkeydown = function (event) {
					if (event.keyCode === 13) {
						event.preventDefault();
						handleInput();
					}
				};
				terminal.appendChild(input);
				input.focus();
			}
		}
	</script>
</body>

</html>